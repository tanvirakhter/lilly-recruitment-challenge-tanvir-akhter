<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="icon" href="../frontend/assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="page-wrapper">
    <header class="header">
      <div class="header-row">
        <img src="../frontend/assets/logo.svg" alt="Logo" class="logo" />
        <h1>Medicine Tracker</h1>
      </div>
      <p class="disclaimer">
        Disclaimer: All medicine names and prices used in this application are
        fictional and do not represent any real medicine(s).
      </p>
    </header>

    <section class="section" id="overview-section">
      <h2>Overview</h2>
      <div class="overview-cards">
        <div class="overview-card">
          <span class="label">Average Price</span>
          <span class="value" id="avg-price">Loading...</span>
        </div>
        <div class="overview-card">
          <span class="label">Medicines Count (for Average)</span>
          <span class="value" id="count">Loading...</span>
        </div>
      </div>
    </section>

    <section class="section" id="search-section">
      <h2>Search Medicine</h2>
      <div class="search-row">
        <input
          type="text"
          id="search-input"
          class="search-input"
          placeholder="Search by medicine name (e.g. Elixirium)..."
        />
        <button
          type="button"
          id="search-clear-btn"
          class="primary-btn secondary-btn"
        >
          Clear
        </button>
      </div>
      <div id="search-result" class="search-result"></div>
    </section>

    <section class="section" id="all-meds-section">
      <div class="section-header">
        <h2>All Medicines</h2>
        <button
          type="button"
          id="toggle-all-meds-btn"
          class="primary-btn secondary-btn"
        >
          Show list
        </button>
      </div>
      <div id="all-meds-container" class="collapsible collapsed">
        <p class="hint">
          This is the full list of medicines currently stored in the database.
        </p>
        <div id="med-list"></div>
      </div>
    </section>

     <section class="section" id="add-section">
      <h2>Add a New Medicine</h2>

      <form id="create-form" class="create-form">
        <div class="form-row">
          <input
            type="text"
            name="name"
            placeholder="Medicine Name"
            required
          />
        </div>
        <div class="form-row">
          <input
            type="number"
            name="price"
            step="0.01"
            placeholder="Price (e.g. 12.99)"
            required
          />
        </div>
        <button type="submit" class="primary-btn">Add Medicine</button>
        <p id="message"></p>
      </form>
    </section>
  </div>

  <div id="edit-modal-overlay" class="modal-overlay hidden">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="edit-modal-title">
      <h2 id="edit-modal-title" class="modal-title">Update medicine</h2>
      <p class="modal-subtitle">
        Edit the name or price of this medicine, then save your changes.
      </p>

      <form id="edit-form" class="edit-form">
        <div class="form-row">
          <label for="edit-name">Medicine Name</label>
          <input
            type="text"
            id="edit-name"
            name="name"
            required
          />
        </div>
        <div class="form-row">
          <label for="edit-price">Price</label>
          <input
            type="number"
            id="edit-price"
            name="price"
            step="0.01"
            required
          />
        </div>

        <p id="edit-error" class="modal-message"></p>

        <div class="modal-actions">
          <button type="submit" id="edit-save-btn" class="primary-btn">
            Save changes
          </button>
          <button
            type="button"
            id="edit-cancel-btn"
            class="primary-btn secondary-btn modal-cancel-btn"
          >
            Cancel
          </button>
        </div>
      </form>

      <div id="delete-confirm" class="delete-confirm hidden">
        <p id="delete-confirm-text" class="modal-subtitle"></p>
        <div class="modal-actions">
          <button
            type="button"
            id="delete-yes-btn"
            class="primary-btn danger-btn"
          >
            Yes, delete
          </button>
          <button
            type="button"
            id="delete-no-btn"
            class="primary-btn secondary-btn"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast hidden"></div>

    <script src="script.js"></script>
</body>
</html>